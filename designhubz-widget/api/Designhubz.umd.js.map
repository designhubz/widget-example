{"version":3,"file":"Designhubz.umd.js","sources":["../src/packages/data/index.ts","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/axios/index.js","../src/packages/data-source/axios-instance.ts","../src/packages/data-source/TempData.ts","../src/packages/lib/_Dev.ts","../src/packages/lib/_Data.ts","../src/packages/lib/products/_Product.ts","../src/packages/utils/Browser.ts","../src/packages/utils/Signals.ts","../src/packages/lib/widgets/Snapshot.ts","../src/packages/utils/index.ts","../src/packages/lib/widgets/Messaging.ts","../src/packages/lib/widgets/_Widget.ts","../src/packages/lib/widgets/_3DWidget.ts","../src/packages/lib/products/_3DProduct.ts","../src/packages/lib/widgets/_EyewearWidget.ts","../src/packages/lib/products/_EyewearProduct.ts","../src/packages/lib/products/Factory.ts","../src/packages/lib/_API.ts","../src/packages/lib/internal/_EditorWidget.ts","../src/packages/lib/internal/index.ts","../src/packages/lib/index.ts"],"sourcesContent":["console.log('@designhubz-widget/data');\r\n\r\nimport { IDataSource, TProductType, TJSONObject } from './DataSource';\r\n\r\nexport interface IProductData\r\n{\r\n    productType: TProductType;\r\n    workspaceKey: string;\r\n    productKey: string;\r\n    name: string;\r\n    properties: TJSONObject;\r\n    variations: {\r\n        productKey: string;\r\n        name: string;\r\n        properties: any;\r\n    }[];\r\n}\r\n\r\nexport interface IDigitizationData\r\n{\r\n    modelCode: string;\r\n    details: {\r\n        modelCode: string,\r\n        geometryDimensions: Record<string, number>,\r\n        description: Record<string, string>\r\n    };\r\n    variations: {\r\n        referenceId: string,\r\n        colorCode: string,\r\n        sizes: string[],\r\n        imageReferences: string[]\r\n    }[];\r\n}\r\n\r\nexport interface ISkinData\r\n{\r\n    readonly descriptorURL: string;\r\n}\r\n\r\nexport interface ISceneData\r\n{\r\n    readonly descriptorURL: string;\r\n}\r\n\r\nexport * from './DataSource';\r\n\r\nexport namespace Data\r\n{\r\n    export let source: IDataSource;\r\n\r\n    export const apps = {\r\n        viewer: '',\r\n        eyewear: '',\r\n        editor: ''\r\n    };\r\n\r\n    export async function GetScene(workspaceKey: string, productKey: string)\r\n    {\r\n        const response = await source.GetSceneResponse(workspaceKey, productKey);\r\n        if(response.status !== 'success' || typeof response.data[0] !== 'object')\r\n            throw new Error(`Error: GetScene(${workspaceKey}: string, ${productKey}: string)`);\r\n        \r\n        return {\r\n            name: response.data[0].name,\r\n            publicFolderUrl: response.data[0].publicFolderUrl,\r\n            sceneData: response.data[0].sceneData as ISceneData\r\n        };\r\n    }\r\n\r\n    export async function GetSkin(workspaceKey: string)\r\n    {\r\n        const response = await source.GetSkinResponse(workspaceKey);\r\n        if(response.status !== 'success' || typeof response.data[0] !== 'object')\r\n            throw new Error(`Error: GetSkin(${workspaceKey}: string)`);\r\n\r\n        return {\r\n            publicFolderUrl: response.data[0].publicFolderUrl,\r\n            skinData: response.data[0].skinData as ISkinData\r\n        };\r\n    }\r\n\r\n    export async function FetchProduct(workspaceKey: string, productKey: string)\r\n    {\r\n        const response = await source.FetchProductResponse(workspaceKey, productKey, true);\r\n        if(response.status !== 'success' || typeof response.data[0] !== 'object')\r\n            throw new Error(`Error: GetProductData(${workspaceKey}: string, ${productKey}: string)`);\r\n\r\n        const productData: IProductData = Object.assign({\r\n            workspaceKey: workspaceKey\r\n        }, response.data[0].productData);\r\n        return {\r\n            productData: productData\r\n        };\r\n    }\r\n\r\n    export async function FetchProducts(workspaceKey: string, productKeys: string[])\r\n    {\r\n        const response = await source.FetchProductsResponse(workspaceKey, productKeys, true);\r\n        if(response.status !== 'success' || typeof response.data[0] !== 'object')\r\n            throw new Error(`Error: GetProductData(${workspaceKey}: string, [${productKeys.join(',')}]: string[])`);\r\n\r\n        const map: Record<string, {productData: IProductData}> = {};\r\n        response.data.forEach( item => map[item.productData.productKey] = {\r\n            productData: Object.assign({\r\n                workspaceKey: workspaceKey\r\n            }, item.productData)\r\n        });\r\n        return map;\r\n    }\r\n\r\n    export async function FetchDigitizationData(workspaceKey: string, modelCode: string)\r\n    {\r\n        const response = await source.FetchDigitizationData(workspaceKey, modelCode);\r\n        if(response.status !== 'success' || typeof response.data[0] !== 'object')\r\n            throw new Error(`Error: FetchDigitizationData(${workspaceKey}: string, ${modelCode}: string)`);\r\n\r\n        const digitizationData: IDigitizationData = response.data[0].digitizationData;\r\n        return {\r\n            digitizationData: digitizationData\r\n        };\r\n    }\r\n}\r\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","module.exports = require('./lib/axios');","import axios from 'axios';\r\n\r\nconst BASE_URL = 'http://34.253.237.17:1337/';\r\n\r\n// created an instance where we could possibly add some global configuration\r\nconst axiosInstance = axios.create({ baseURL: BASE_URL });\r\n\r\nexport default axiosInstance;\r\n","import { \r\n    ISkinData, ISceneData, IProductData, \r\n    IDataSource, \r\n    IProductResponse, ISceneResponse, ISkinResponse, IDigitizationDataResponse, IDigitizationData \r\n} from '../data';\r\n\r\nconst fetchJSON = async (url: string) => {\r\n    const response = await fetch(url, { method: 'GET' });\r\n    if(response.ok) return response.json();\r\n}\r\n\r\n// https://designhubz-viewer-data.s3-eu-west-1.amazonaws.com/user/workspace/eyewear/glass1/scene.json\r\nconst folder = {\r\n    w: (root: string, workspaceKey: string) => `${root}user/workspace/${workspaceKey}/`,\r\n    s: (root: string, workspaceKey: string, productKey: string) => `${folder.w(root, workspaceKey)}scene/${productKey}/`,\r\n    d: (root: string, workspaceKey: string, modelCode: string) => `${root}user/workspace/${workspaceKey}/digitization/${modelCode}/`\r\n};\r\n\r\nexport class TempData implements IDataSource\r\n{\r\n    public constructor(public readonly root: string)\r\n    {}\r\n\r\n    public Resolve(url: string)\r\n    {\r\n        return this.root + url;\r\n    }\r\n\r\n    public async GetSkinResponse(workspaceKey: string): Promise<ISkinResponse>\r\n    { \r\n        const dirURL = folder.w(this.root, workspaceKey);\r\n        const data = await fetchJSON(dirURL + 'skin.json') as ISkinResponse['data'][0];\r\n        if(data !== undefined) data.publicFolderUrl = dirURL;\r\n        const response: ISkinResponse = {\r\n            status: data !== undefined ? 'success' : 'error',\r\n            data: [data]\r\n        };\r\n        return response;\r\n    }\r\n\r\n    public async GetSceneResponse(workspaceKey: string, productKey: string): Promise<ISceneResponse>\r\n    {\r\n        const dirURL = folder.s(this.root, workspaceKey, productKey);\r\n        const data = await fetchJSON(dirURL + 'scene.json') as ISceneResponse['data'][0];\r\n        if(data !== undefined) data.publicFolderUrl = dirURL;\r\n        const response: ISceneResponse = {\r\n            status: data !== undefined ? 'success' : 'error',\r\n            data: [data]\r\n        };\r\n        return response;\r\n    }\r\n\r\n    public async FetchProductResponse(workspaceKey: string, productKey: string, collectVariationDetails: boolean): Promise<IProductResponse>\r\n    {\r\n        const sceneEntry = await this.GetSceneResponse(workspaceKey, productKey);\r\n        if(sceneEntry.status !== 'success' || sceneEntry.data[0] === undefined)\r\n            throw new Error(`Error FetchProductResponse(${workspaceKey}, ${productKey})`);\r\n        \r\n        const scene = sceneEntry.data[0];\r\n        const data: IProductResponse['data'][0] = {\r\n            productData: scene.sceneData.productData\r\n        };\r\n\r\n        const productData = data.productData as any;\r\n        if(productData.variations === undefined) productData.variations = [];\r\n        if(collectVariationDetails)\r\n        {\r\n            if(productData.variations.length > 0 && typeof productData.variations[0] === 'string')\r\n            {\r\n                productData.variations = await Promise.all(\r\n                    (productData.variations as string[]).map( async v => {\r\n                        const vResponse = await this.FetchProductResponse(workspaceKey, v, false);\r\n                        if(vResponse.status === 'success' && vResponse.data[0] !== undefined)\r\n                        {\r\n                            return vResponse.data[0];\r\n                        }\r\n                        else\r\n                        {\r\n                            return v;\r\n                        }\r\n                    })\r\n                );\r\n            }\r\n        }\r\n        \r\n        const response: IProductResponse = {\r\n            status: data !== undefined ? 'success' : 'error',\r\n            data: [data]\r\n        };\r\n        return response;\r\n    }\r\n\r\n    public async FetchDigitizationData(workspaceKey: string, modelCode: string): Promise<IDigitizationDataResponse>\r\n    {\r\n        const dirURL = folder.d(this.root, workspaceKey, modelCode);\r\n        const data = {\r\n            digitizationData: await fetchJSON(dirURL + `${modelCode}.json`) as IDigitizationData\r\n        };\r\n        const response: IDigitizationDataResponse = {\r\n            status: data !== undefined ? 'success' : 'error',\r\n            data: [data]\r\n        };\r\n        return response;\r\n    }\r\n\r\n    public async FetchProductsResponse(workspaceKey: string, productKeys: string[], collectVariationDetails: boolean): Promise<IProductResponse>\r\n    {\r\n        throw 'FetchProductsResponse Not implemented';\r\n    }\r\n}","import { Dev } from '../api';\r\n\r\nconst formatOptions = ['font-weight', 'color', 'background'];\r\n\r\nexport const _dev = new (\r\n    class _Dev implements Dev\r\n    {\r\n        public debug = false;\r\n\r\n        public Log(...args: Array<any>)\r\n        {\r\n            if(this.debug)\r\n            {\r\n                const formatting: string[] = [];\r\n                for(let i = 0; i < args.length - 1; i++)\r\n                {\r\n                    const arg = args[i];\r\n                    const text = args[i + 1];\r\n                    if(typeof arg === 'string' && typeof text === 'string' && arg.slice(0, 2) === '#(')\r\n                    {\r\n                        const optionsArgs = arg.slice(2, arg.length - 1).split(',');\r\n                        let format = formatOptions.map( (o, i) => \r\n                            typeof optionsArgs[i] === 'string' && optionsArgs[i].length > 0\r\n                                ? `${o}:${optionsArgs[i]};`\r\n                            : ''\r\n                        ).join(' ');\r\n                        \r\n                        args.splice(i, 1);\r\n                        args[i] = `%c ${text} `;\r\n                        formatting.push(format);\r\n                    }\r\n                }\r\n                if(formatting.length > 0) console.log(args.map( arg => arg.toString() ).join(''), ...formatting);\r\n                else console.log(...args);\r\n            }\r\n        }\r\n\r\n        public CreateError(name: string, message?: string)\r\n        {\r\n            this.Log(`Created ERROR '${name}': '${message}'`);\r\n            const error = new Error(message);\r\n            error.name = name;\r\n            return error;\r\n        }\r\n    }\r\n);\r\n","import { Data } from '../data';\r\nimport { TempData, ViewerData } from '../data-source';\r\nimport { _dev } from './_Dev';\r\n\r\nif(!window.location) throw new Error('Expected access to window.location');\r\nif(!('href' in window.location)) throw new Error('Expected href in window.location');\r\n\r\nconst bool = (p: string | null) => p === '1' || p === 'true';\r\nconst searchParams = (new URL(window.location.href)).searchParams;\r\nconst local = bool(searchParams.get('local')) ? 'https://localhost' : false;\r\nconst s3 = 'https://designhubz-viewer-data.s3-eu-west-1.amazonaws.com/';\r\n\r\nconst localFlag = local ? '?local=1' : '';\r\nData.apps.viewer = (local ? local + ':2020/example/viewer.html' : s3 + 'apps/viewer/index.html') + localFlag;\r\nData.apps.editor = (local ? local + ':2020/example/editor.html' : s3 + 'apps/viewer/editor.html') + localFlag;\r\nData.apps.eyewear = (local ? local + ':3000/' : s3 + 'apps/eyewear/index.html') + localFlag;\r\nData.source = new TempData( local ? local + ':2020/example/storage.ignore/' : s3 );\r\n// Data.source = new ViewerData();\r\n\r\n/** enabled = ?designhubz_debug=bool */\r\nexport const DEV_DEBUG_URL_PARAM = 'designhubz_debug';\r\nif(bool(searchParams.get(DEV_DEBUG_URL_PARAM))) _dev.debug = true;\r\n","import { IProduct, IScoredRecommendation } from '../../api';\r\n\r\nexport abstract class _Product<T> implements IProduct<T>\r\n{\r\n    public readonly is3D = () => false;\r\n    public readonly isEyewear = () => false;\r\n    public readonly isMakeup = () => false;\r\n\r\n    public readonly variations: this[];\r\n\r\n    constructor(\r\n        public readonly workspaceKey: string,\r\n        public readonly productKey: string,\r\n        public readonly properties: T,\r\n        variations: _Product<T>[]\r\n    )\r\n    {\r\n        this.variations = variations as this[];\r\n    }\r\n\r\n    public get thumbnailURL(){ return ''; }\r\n\r\n    public fetchRecommendations(num: number, external?: IScoredRecommendation[]): Promise<IScoredRecommendation[]>\r\n    {\r\n        const recommendations = new Array<IScoredRecommendation>(num);\r\n        recommendations.map( (_, i) => { \r\n            return {\r\n                sku: i.toString(),\r\n                score: i / num\r\n            };\r\n        });\r\n        return new Promise( r => r(recommendations) );\r\n    }\r\n}\r\n","\r\nexport namespace Dom\r\n{\r\n    export function CreateStylesheet(css: string)\r\n    {\r\n        const style = document.createElement('style');\r\n        style.type = 'text/css';\r\n        style.innerHTML = css;\r\n        document.getElementsByTagName('head')[0].appendChild(style);\r\n        return style;\r\n    }\r\n\r\n    export function BuildHTML<T extends HTMLElement>(html: string): T\r\n    {\r\n        const div = document.createElement('div');\r\n        div.innerHTML = html.trim();\r\n        return div.firstChild as T;\r\n    }\r\n}\r\n","type callback<T> = (arg: T) => void;\r\n\r\nexport interface ISignal<T>\r\n{\r\n    Add(callback: callback<T>): void;\r\n    Remove(callback: callback<T>): void;\r\n    Once(callback: callback<T>): void;\r\n}\r\n\r\nexport class Signal<T> implements ISignal<T>\r\n{\r\n    public callbacks: callback<T>[];\r\n\r\n    constructor()\r\n    {\r\n        this.callbacks = [];\r\n    }\r\n\r\n    public Add(callback: callback<T>)\r\n    {\r\n        if(typeof callback !== 'function')\r\n        {\r\n            console.warn('Not a function', callback);\r\n            throw(\"'callback' should be a function.\");\r\n        }\r\n        this.callbacks.push(callback);\r\n    }\r\n\r\n    public Remove(callback: callback<T>)\r\n    {\r\n        const index = this.callbacks.indexOf(callback);\r\n        if(index !== -1) this.callbacks.splice(index, 1);\r\n    }\r\n\r\n    public Dispatch(arg: T)\r\n    {\r\n        for(let i = 0; i < this.callbacks.length; i++) this.callbacks[i](arg);\r\n    }\r\n\r\n    public Once(callback: callback<T>)\r\n    {\r\n        const once = (arg: T) => {\r\n            this.Remove(once);\r\n            callback(arg);\r\n        };\r\n        this.Add(once);\r\n    }\r\n}\r\n\r\n// Example\r\nclass Keyboard\r\n{\r\n    private readonly _onInput = new Signal<string>();\r\n    public get Input(): ISignal<string> { return this._onInput; }\r\n\r\n    public Enter(text: string)\r\n    {\r\n        this._onInput.Dispatch(text);\r\n    }\r\n\r\n    public static Example()\r\n    {\r\n        const keyboard = new Keyboard();\r\n        keyboard.Input.Add(key => console.log(`keyboard.Input -> ${key}`));\r\n        keyboard.Enter('x');\r\n    }\r\n}\r\n","import { ISnapshot } from '../../api';\r\n\r\ntype TImageSource = (CanvasImageSource & {width: number, height: number}) | ImageData;\r\nlet _canvas: HTMLCanvasElement;\r\n\r\nfunction DrawToCanvas(source: TImageSource, flip: boolean)\r\n{\r\n    if(_canvas === undefined) _canvas = document.createElement('canvas');\r\n\r\n\t_canvas.width = source.width;\r\n\t_canvas.height = source.height;\r\n\r\n    const context = _canvas.getContext('2d')!;\r\n    context.resetTransform();\r\n    if(flip)\r\n    {\r\n        context.translate(0, _canvas.height);\r\n        context.scale(1, -1);\r\n    }\r\n\r\n    if(source instanceof ImageData) context.putImageData(source, 0, 0);\r\n    else context.drawImage(source, 0, 0, source.width, source.height);\r\n    return _canvas;\r\n}\r\n\r\nexport class Snapshot implements ISnapshot\r\n{\r\n    constructor(public readonly imageData: ImageData)\r\n    {}\r\n\r\n    public getDataURL(type: 'jpeg' | 'png', quality?: number)\r\n    {\r\n        const canvas =  DrawToCanvas(this.imageData, false);\r\n        return canvas.toDataURL(type === 'jpeg' ? 'image/jpeg' : 'image/png', quality)\r\n    }\r\n\r\n    public async getBlobAsync(type: 'jpeg' | 'png', quality?: number)\r\n    {\r\n        const canvas =  DrawToCanvas(this.imageData, false);\r\n        const blob = await new Promise<Blob>( (resolve, reject) => \r\n            canvas.toBlob( blob => {\r\n                if(blob === null) reject('Failed to generate Blob');\r\n                else resolve(blob);\r\n            }, type === 'jpeg' ? 'image/jpeg' : 'image/png', quality)\r\n        );\r\n\r\n        return blob;\r\n    }\r\n}\r\n","console.log('@designhubz-widget/utils');\r\n\r\nexport * from './Browser';\r\nexport * from './Signals';","\r\nexport const DESIGNHUBZ_API_TYPE = 'designhubz-api';\r\n\r\nexport const enum WidgetEvent {\r\n    Init = 'Init',\r\n    SnapshotRequest = 'SnapshotRequest',\r\n    Save = 'Save',\r\n    Debug = 'Debug'\r\n}\r\n\r\nexport interface IWidgetMessageData\r\n{\r\n    type: string;\r\n    id: string;\r\n    event: WidgetEvent;\r\n    value: any;\r\n}\r\n\r\nexport type TWidgetMessage = { data: IWidgetMessageData };\r\n","import { IWidget, IProduct, Stat } from '../../api';\r\nimport { Signal, Dom, ISignal } from '../../utils';\r\nimport { _dev } from '../_Dev';\r\nimport { _Product } from '../products/_Product';\r\nimport { Snapshot } from './Snapshot';\r\nimport * as Messaging from './Messaging';\r\n\r\nexport abstract class _Widget<T, P extends IProduct<T>> implements IWidget<T, P>\r\n{\r\n    public readonly waitForInit = new Promise<this>( resolve => (this as any)._waitForInit = resolve );\r\n\r\n    protected _variation: P;\r\n    protected _iframe: HTMLIFrameElement;\r\n\r\n    private readonly _id = Math.floor(Math.random() * 1000) + '-';\r\n    private _queriesCount = 0;\r\n    private _pending = new Map<string, (arg: any) => void>();\r\n\r\n    constructor(\r\n        defaultVariation: P,\r\n        public readonly domElement: HTMLDivElement\r\n    ){\r\n        onmessage = message => {\r\n            if(message.data?.type === Messaging.DESIGNHUBZ_API_TYPE )\r\n                this.OnWidgetMessage((message as Messaging.TWidgetMessage).data);\r\n        };\r\n\r\n        this._variation = defaultVariation;\r\n\r\n        this._iframe = Dom.BuildHTML<HTMLIFrameElement>(`<iframe\r\n    style=\"width: 1px; min-width: 100%; *width: 100%; height: 1px; min-height: 100%; *height: 100%;\" \r\n    width=\"100%\" height=\"100%\" scrolling=\"no\" frameBorder=\"0\"\r\n</iframe>`);\r\n    }\r\n\r\n    public get variation(){ return this._variation; }\r\n\r\n    public async loadVariation(variation: P)\r\n    {\r\n        if(this._variation.variations.every( v => v.productKey !== variation.productKey ))\r\n            throw new Error(`Product '${variation.productKey}' is not a variation of ${this._variation.variations.map( v => v.productKey ).join(', ')}`);\r\n    }\r\n\r\n    public async takeSnapshotAsync()\r\n    {\r\n        const query = await this.QueryAsync({\r\n            event: Messaging.WidgetEvent.SnapshotRequest,\r\n            value: {\r\n                flip: false\r\n            }\r\n        });\r\n        const imageData = new ImageData(new Uint8ClampedArray(query.value.data.buffer), query.value.width, query.value.height)\r\n        return new Snapshot(imageData);\r\n    }\r\n\r\n    public sendStat(stat: Stat)\r\n    {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    public async disposeAsync()\r\n    {\r\n        if(this._iframe.parentElement !== null) this._iframe.parentElement.removeChild(this._iframe);\r\n    }\r\n\r\n    protected OnWidgetMessage(data: Messaging.IWidgetMessageData)\r\n    {\r\n        let resolver = this._pending.get(data.id);\r\n        if(resolver !== undefined)\r\n        {\r\n            resolver(data);\r\n        }\r\n        else\r\n        {\r\n            switch(data.event)\r\n            {\r\n                case Messaging.WidgetEvent.Init:\r\n                    (this as any)._waitForInit(this);\r\n                break;\r\n\r\n                default:\r\n                    _dev.Log(`No listeners on '${event}'`, data.value);\r\n                break;\r\n            } \r\n        }\r\n    }\r\n\r\n    protected async QueryAsync(message: Messaging.IWidgetMessageData, waitForReply?: boolean): Promise<Messaging.IWidgetMessageData>\r\n    protected async QueryAsync(message: Omit<Messaging.IWidgetMessageData, 'type' | 'id'>, waitForReply?: boolean): Promise<Messaging.IWidgetMessageData>\r\n    protected async QueryAsync(message: Messaging.IWidgetMessageData, waitForReply = true): Promise<Messaging.IWidgetMessageData>\r\n    {\r\n        if(this._iframe.contentWindow === null) throw new Error(`Can't query iframe's contentWindow.`);\r\n\r\n        if(('type' in message && 'id' in message) === false)\r\n        {\r\n            message = Object.assign({\r\n                type: Messaging.DESIGNHUBZ_API_TYPE,\r\n                id: this._id + (this._queriesCount++)\r\n            }, message);\r\n        }\r\n\r\n        const promise = waitForReply\r\n            ? new Promise<Messaging.IWidgetMessageData>( r => this._pending.set(message.id, r) )\r\n        : Promise.resolve(message);\r\n\r\n        this._iframe.contentWindow!.postMessage(message, '*');\r\n        return promise;\r\n    }\r\n\r\n    protected Attach()\r\n    {\r\n        // what kind of dom events do I need to handle?\r\n        this.domElement.appendChild(this._iframe);\r\n    }\r\n}","import { I3DWidget } from '../../api';\r\nimport { Data } from '../../data';\r\nimport { _Widget } from './_Widget';\r\nimport { _Product } from '../products/_Product';\r\nimport { _3DProduct } from '../products/_3DProduct';\r\n\r\n\r\nexport class _3DWidget<T, P extends _3DProduct<T>> extends _Widget<T, P> implements I3DWidget<T>\r\n{\r\n    public _3D = true;\r\n\r\n    constructor(\r\n        defaultVariation: P,\r\n        domElement: HTMLDivElement,\r\n        src?: string\r\n    ){\r\n        super(defaultVariation, domElement);\r\n\r\n        this._iframe.src = src ?? `${Data.apps.viewer}?workspaceId=${defaultVariation.workspaceKey}&referenceId=${defaultVariation.productKey}`;\r\n        this.Attach();\r\n    }\r\n}","import { I3DProduct } from '../../api';\r\nimport { _Product } from './_Product';\r\nimport { _3DWidget } from '../widgets/_3DWidget';\r\n\r\nexport class _3DProduct<T> extends _Product<T> implements I3DProduct<T>\r\n{\r\n    public _3D = true;\r\n    public readonly is3D = () => true;\r\n    \r\n    public async create3DWidget(domElement: HTMLDivElement): Promise<_3DWidget<T, this>>\r\n    {\r\n        const widget = new _3DWidget(this, domElement);\r\n        return await widget.waitForInit;\r\n    }\r\n}\r\n","import { IEyewearWidget, TrackingStatus } from '../../api';\r\nimport { ISignal, Signal } from '../../utils';\r\nimport { Data } from '../../data';\r\nimport { _Widget } from './_Widget';\r\nimport { _EyewearProduct } from '../products/_EyewearProduct';\r\n\r\nexport class _EyewearWidget<T, P extends _EyewearProduct<T>> extends _Widget<T, P> implements IEyewearWidget<T>\r\n{\r\n    public _eyewear = true;\r\n    \r\n    public readonly onTrackingStatusChange: ISignal<TrackingStatus> = new Signal();\r\n    \r\n    constructor(\r\n        defaultVariation: P,\r\n        domElement: HTMLDivElement\r\n    ){\r\n        super(defaultVariation, domElement);\r\n\r\n        this._iframe.setAttribute('allow', 'camera;microphone');\r\n        this._iframe.src = `${Data.apps.viewer}?workspaceId=${defaultVariation.workspaceKey}&referenceId=${defaultVariation.productKey}`;\r\n        this.Attach();\r\n    }\r\n\r\n    public get fit(){ return true; }\r\n}","import { IEyewearProduct } from '../../api';\r\nimport { _3DProduct } from './_3DProduct';\r\nimport { _3DWidget } from '../widgets/_3DWidget';\r\nimport { _EyewearWidget } from '../widgets/_EyewearWidget';\r\n\r\nexport class _EyewearProduct<T> extends _3DProduct<T> implements IEyewearProduct<T>\r\n{\r\n    public _eyewear = true;\r\n    public _3D = true;\r\n    public readonly isEyewear = () => true;\r\n    \r\n    public async create3DWidget(domElement: HTMLDivElement): Promise<_3DWidget<T, this>>\r\n    {\r\n        const widget = new _3DWidget(this, domElement);\r\n        return await widget.waitForInit;\r\n    }\r\n\r\n    public async createEyewearWidget(domElement: HTMLDivElement): Promise<_EyewearWidget<T, this>>\r\n    {\r\n        const widget = new _EyewearWidget(this, domElement);\r\n        return await widget.waitForInit;\r\n    }\r\n\r\n    public async createMultiWidget(domElement: HTMLDivElement): Promise<any>\r\n    {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n}\r\n","import { IProductData } from '../../data';\r\nimport { _Product } from './_Product';\r\nimport { _3DProduct } from './_3DProduct';\r\nimport { _EyewearProduct } from './_EyewearProduct';\r\n\r\nlet _productsCache: Record<string, _Product<any>> = {};\r\nexport function ProductFromCache<T>(workspaceKey: string, productKey: string): _Product<T> | undefined\r\n{\r\n    return _productsCache[workspaceKey + productKey];\r\n}\r\n\r\nlet _variationsCache: Record<string, _Product<any>[]> = {};\r\nfunction VariationsFromCache<T>(workspaceKey: string, productKey: string): _Product<T>[] | undefined\r\n{\r\n    return _variationsCache[workspaceKey + productKey];\r\n}\r\n\r\nexport function ProductFromData<T extends Record<string, string>>(data: IProductData, props?: T)\r\n{\r\n    let product = ProductFromCache<T>(data.workspaceKey, data.productKey);\r\n    if(product !== undefined) return product;\r\n\r\n    let variations = VariationsFromCache<T>(data.workspaceKey, data.productKey);\r\n    if(variations === undefined)\r\n    {\r\n        variations = [];\r\n        data.variations.forEach( variation => {\r\n            const vData = variation as IProductData;\r\n            _variationsCache[vData.workspaceKey + vData.productKey] = variations!;\r\n        });\r\n    }\r\n\r\n    if(props !== undefined)\r\n    {\r\n        let missingProps: string[] = [];\r\n        for(const key in props)\r\n        {\r\n            const header = props[key];\r\n            if(header in data.properties)\r\n            {\r\n                if(key in data.properties) console.warn(`Custom property accessor '${key}' will override existing property.`);\r\n                Object.defineProperty(data.properties, key, {\r\n                    get: () => data.properties[header]\r\n                });\r\n            }\r\n            else\r\n            {\r\n                missingProps.push(header);\r\n            }\r\n        }\r\n\r\n        if(missingProps.length > 0)\r\n        {\r\n            const plr = missingProps.length > 1;\r\n            console.warn(`Custom propert${plr ? 'ies' : 'y'}: '${missingProps.join(`', '`)}' ${plr ? 'are' : 'is'} missing from '${data.productKey}'`);\r\n        }\r\n    }\r\n\r\n    const productArgs: [string, string, T, _Product<T>[]] = [\r\n        data.workspaceKey,\r\n        data.productKey,\r\n        data.properties,\r\n        variations\r\n    ];\r\n\r\n    switch(data.productType)\r\n    {\r\n        case '3D':\r\n            product = new _3DProduct<T>(...productArgs);\r\n        break;\r\n        case 'Eyewear':\r\n            product = new _EyewearProduct<T>(...productArgs);\r\n        break;\r\n        case 'Makeup':\r\n            throw 'Not implemented';\r\n        default:\r\n            throw 'Not implemented';\r\n    }\r\n\r\n    variations.push(product);\r\n    _productsCache[data.workspaceKey + data.productKey] = product;\r\n    return product;\r\n}\r\n","import { IProduct } from '../api';\r\nimport { Data } from '../data';\r\nimport { _Product } from './products/_Product';\r\nimport { ProductFromCache, ProductFromData } from './products/Factory';\r\nimport { _dev } from './_Dev';\r\n\r\nexport { Stat, TrackingStatus } from '../api';\r\n\r\nexport const version: string = 'version';\r\n\r\nexport const dev = _dev;\r\n\r\nexport async function fetchProduct<T extends Record<string, string>>(workspaceKey: string, productKey: string, props?: T): Promise<IProduct<T>>\r\n{\r\n    if(typeof workspaceKey !== 'string' || typeof productKey !== 'string')\r\n        throw new RangeError(`Invalid arguments: fetchProduct(${workspaceKey}: string, ${productKey}: string)`);\r\n    let product = ProductFromCache<T>(workspaceKey, productKey);\r\n    if(product === undefined)\r\n    {\r\n        _dev.Log('#(bold,#f00)', 'fetching product:', '#()', `(${workspaceKey}, ${productKey})`);\r\n        const productData = (await Data.FetchProduct(workspaceKey, productKey)).productData;\r\n        product = ProductFromData<T>(productData, props);\r\n    }\r\n    else\r\n    {\r\n        _dev.Log('#(bold,#f88)', '(cache) fetching product:', '#()', `(${workspaceKey} | ${productKey})`);\r\n    }\r\n    return product;\r\n}\r\n\r\nexport async function fetchProducts<T extends Record<string, string>>(workspaceKey: string, productKeys: string[], props?: T): Promise<Record<string, IProduct<T> | undefined>>\r\n{\r\n    if(typeof workspaceKey !== 'string' || (productKeys instanceof Array) === false || productKeys.length === 0 || typeof productKeys[0] !== 'string')\r\n        throw new RangeError(`Invalid arguments: fetchProducts(${workspaceKey}: string, ${productKeys.join(', ')}: string[])`);\r\n    \r\n    _dev.Log('#(bold,#000)', 'fetching products:', '#()', `(${workspaceKey}, [${productKeys.join(', ')}])`);\r\n    const result: Record<string, IProduct<T> | undefined> = {};\r\n    const stats = {cache: 0, fetch: 0, missing: productKeys.length};\r\n    const productsToFetch: string[] = [];\r\n    productKeys.forEach( productKey => {\r\n        const product = ProductFromCache<T>(workspaceKey, productKey);\r\n        if(product === undefined)\r\n        {\r\n            productsToFetch.push(productKey);\r\n        }\r\n        else\r\n        {\r\n            stats.cache++;\r\n            stats.missing--;\r\n            result[productKey] = product;\r\n        }\r\n    });\r\n    if(productsToFetch.length > 0)\r\n    {\r\n        const productsMap = (await Data.FetchProducts(workspaceKey, productsToFetch));\r\n        productsToFetch.forEach( productKey => {\r\n            const product = productsMap[productKey];\r\n            if(product !== undefined)\r\n            {\r\n                stats.fetch++;\r\n                stats.missing--;\r\n                result[productKey] = ProductFromData<T>(product.productData, props);\r\n            }\r\n        });\r\n    }\r\n    _dev.Log(\r\n        '#(,#f88)', `${stats.cache} from cache`, ' | ', \r\n        stats.fetch > 0 ? '#(bold,#f00)' : '#(bold)', `${stats.fetch} fetched`, ' | ', \r\n        stats.missing > 0 ? '#(#fff,#f00)' : '#(bold)', `${stats.missing} missing`);\r\n    return result;\r\n}\r\n","import { I3DProduct } from '../../api';\r\nimport { Data } from '../../data';\r\nimport { _Widget } from '../widgets/_Widget';\r\nimport { _Product } from '../products/_Product';\r\nimport { _3DProduct } from '../products/_3DProduct';\r\nimport { _3DWidget } from '../widgets/_3DWidget';\r\nimport * as Messaging from '../widgets/Messaging';\r\n\r\nexport class _EditorWidget<T, P extends I3DProduct<T>> extends _3DWidget<T, _3DProduct<T>>\r\n{\r\n    public _editor = true;\r\n\r\n    constructor(\r\n        defaultVariation: P,\r\n        domElement: HTMLDivElement\r\n    ){\r\n        super(defaultVariation as any, domElement, `${Data.apps.viewer}?workspaceId=${defaultVariation.workspaceKey}&referenceId=${defaultVariation.productKey}`);\r\n    }\r\n\r\n    public async debug()\r\n    {\r\n        const query = await this.QueryAsync({\r\n            event: Messaging.WidgetEvent.Debug,\r\n            value: null\r\n        });\r\n        return Boolean(query.value);\r\n    }\r\n\r\n    public async save()\r\n    {\r\n        const query = await this.QueryAsync({\r\n            event: Messaging.WidgetEvent.Save,\r\n            value: null\r\n        });\r\n        return Boolean(query.value);\r\n    }\r\n}\r\n","import { I3DProduct } from '../../api';\r\nimport { _Widget } from '../widgets/_Widget';\r\nimport { _EditorWidget } from './_EditorWidget';\r\nimport { _3DProduct } from '../products/_3DProduct';\r\n\r\n\r\nexport namespace Internal\r\n{\r\n    export const EditorWidget = _EditorWidget;\r\n\r\n    export async function createEditorWidget<T extends Record<string, string>>(defaultVariation: I3DProduct<T>, domElement: HTMLDivElement)\r\n    {\r\n        const widget = new EditorWidget<T, I3DProduct<T>>(defaultVariation as any, domElement);\r\n        return await widget.waitForInit;\r\n    }\r\n}","console.log('@designhubz-widget/lib');\r\n\r\nimport './_Data';\r\nexport * from './_API';\r\nexport * from './internal';\r\n"],"names":["Data","console","log","viewer","eyewear","editor","workspaceKey","productKey","source","GetSceneResponse","response","_a","status","data","Error","name","publicFolderUrl","sceneData","GetSkinResponse","skinData","FetchProductResponse","productData","Object","assign","productKeys","FetchProductsResponse","join","map","forEach","item","modelCode","FetchDigitizationData","digitizationData","fn","thisArg","args","Array","arguments","length","i","apply","toString","prototype","isArray","val","call","isUndefined","isObject","isPlainObject","getPrototypeOf","isFunction","obj","l","key","hasOwnProperty","isArrayBuffer","isBuffer","constructor","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","window","document","merge","result","assignValue","slice","extend","a","b","bind","trim","str","replace","stripBOM","content","charCodeAt","encode","encodeURIComponent","url","params","paramsSerializer","serializedParams","utils","parts","v","toISOString","JSON","stringify","push","hashmarkIndex","indexOf","InterceptorManager","this","handlers","use","fulfilled","rejected","eject","id","h","headers","fns","value","__CANCEL__","normalizedName","toUpperCase","message","config","code","request","error","isAxiosError","toJSON","description","number","fileName","lineNumber","columnNumber","stack","enhanceError","write","expires","path","domain","secure","cookie","Date","toGMTString","read","match","RegExp","decodeURIComponent","remove","now","ignoreDuplicateOf","originURL","msie","test","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","location","requestURL","parsed","Promise","resolve","reject","requestData","requestHeaders","XMLHttpRequest","auth","username","password","unescape","Authorization","btoa","baseURL","requestedURL","fullPath","relativeURL","combineURLs","open","method","buildURL","timeout","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","split","line","substr","toLowerCase","concat","responseType","responseText","statusText","validateStatus","createError","settle","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","isURLSameOrigin","xsrfCookieName","cookies","undefined","xsrfHeaderName","setRequestHeader","e","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","DEFAULT_CONTENT_TYPE","Content-Type","setContentTypeIfUnset","adapter","defaults","process","require$$0","transformRequest","normalizeHeaderName","transformResponse","parse","maxContentLength","maxBodyLength","common","Accept","throwIfCancellationRequested","throwIfRequested","transformData","reason","isCancel","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","target","mergeDeepProperties","prop","axiosKeys","otherKeys","keys","filter","Axios","instanceConfig","interceptors","mergeConfig","chain","dispatchRequest","interceptor","unshift","shift","getUri","Cancel","CancelToken","executor","TypeError","resolvePromise","token","c","createInstance","defaultConfig","context","instance","axios","create","require$$1","require$$2","all","promises","spread","callback","arr","payload","fetchJSON","fetch","ok","json","folder","w","root","s","d","TempData","dirURL","collectVariationDetails","sceneEntry","_b","scene","variations","vResponse","formatOptions","_dev","_Dev","_i","debug","formatting","arg","text","optionsArgs_1","format","o","splice","Log","bool","p","searchParams","URL","local","get","s3","localFlag","apps","Dom","properties","_Product","num","external","recommendations","_","sku","score","r","css","style","type","innerHTML","getElementsByTagName","appendChild","html","div","firstChild","_canvas","callbacks","Signal","warn","index","once","_this","Remove","Add","DrawToCanvas","flip","width","height","getContext","resetTransform","translate","scale","ImageData","putImageData","drawImage","Keyboard","_onInput","Dispatch","keyboard","Input","Enter","imageData","Snapshot","quality","toDataURL","canvas","toBlob","blob","DESIGNHUBZ_API_TYPE","defaultVariation","domElement","_waitForInit","Math","floor","random","Map","onmessage","Messaging.DESIGNHUBZ_API_TYPE","OnWidgetMessage","_variation","_iframe","BuildHTML","_Widget","variation","every","QueryAsync","event","query","Uint8ClampedArray","stat","parentElement","removeChild","resolver","_pending","waitForReply","contentWindow","_id","_queriesCount","set","postMessage","src","_super","Attach","__extends","_3DProduct","_3DWidget","waitForInit","_EyewearWidget","_EyewearProduct","_productsCache","ProductFromCache","_variationsCache","ProductFromData","props","vData","missingProps","header","defineProperty","plr","productArgs","productType","dev","Internal","_EditorWidget","Boolean","EditorWidget","RangeError","FetchProduct","stats","cache","missing","productsToFetch","FetchProducts","productsMap_1"],"mappings":"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"}